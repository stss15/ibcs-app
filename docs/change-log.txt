IBCS APP — OPERATIONS CHANGE LOG
================================

2025-11-04  Year 7 live deck refactor
---------------------------------
- Removed the legacy Year 7 introduction unit and map UI in favour of a reusable live deck experience.
- Added shared live deck registry (`shared/liveDecks.js`) with slide-level metadata for both frontend and worker.
- Extended class pacing records to store deck/slide IDs, join codes, session status, and history for backward-compatible resumes.
- Reworked `/teacher/classes/:id/pacing` endpoints to manage session lifecycle (start, advance, stop, reset) and generate unique join codes.
- Added student join endpoint (`POST /student/live-sessions/join`) so late arrivals can synchronise with the teacher pointer via code.
- Replaced `/curriculum/year7` with a new projector-friendly teacher view and gated student experience that renders content, checkpoints, and summatives.

2025-11-04  Year 7 Unit 1 interactive proof-of-concept
---------------------------------
- Authored `frontend/src/content/y7IntroductionComputing.jsx` with two teacher-paced lessons, teacher-only presenter notes, formative checks, and an auto-marking summative quiz.
- Added Year 7 intro module route (`/curriculum/year7/intro`) and launch links from the Year 7 map for teachers and students.
- Extended `GamifiedModulePage` to filter segments by audience and to support end-of-unit `assessment.format: "auto-mcq"` self-marking workflows.
- Documented audience flags and the new assessment format in `docs/content-authoring.md` and `docs/teacher-mode.md`.
- Compact Year 7 curriculum board with a selectable unit list and lesson timeline so the full KS3 plan fits on a single screen.
- Refreshed the student dashboard hero and gamification cards with colour-forward gradients, metric badges, and motivational copy.
- Added slide-in/out animations for lesson segments and moved the summative assessment into the main stage flow to respect pacing locks.
- Deployment script now calls `worker/reset-db.js` before seeding so InstantDB starts from a clean slate on every `fix-and-deploy` run.
- Unified the student dashboard behind a shared template that reads InstantDB pacing, manifest metadata, and local checkpoint analytics for every curriculum track.
- Reflowed the Year 7 map into a responsive grid with a scrolling lesson timeline so the entire KS3 pathway is visible at once, and added a persistent “Exit presentation” control for projector view.
- Added a live “Join lesson” CTA to the student dashboard, wired timeline links to respect the teacher pointer, and expanded KS3 lesson content with teacher objectives and task facilitation notes.

2025-11-03  Major UI/UX modernization & design system
---------------------------------
- Implemented comprehensive UI/UX overhaul targeting students aged 11-18 with modern, gamified learning experience.
- Created global design system with CSS variables, animations, transitions, and utility classes in `styles/global.css`.
- Enhanced all tables with sticky headers, zebra striping, hover effects, and gradient headers.
- Redesigned keyword definition cards with modern gradients, hover animations, and left border reveals.
- Added celebratory animations to quizzes (checkmarks, X marks, emoji celebrations, pulse/wiggle effects).
- Upgraded all activity components with gradient backgrounds, smooth transitions, and success animations.
- Enhanced XP & gamification system with animated sparkles, shimmer effects, gold gradients, and level badges.
- Modernized Student Dashboard with animated progress rings, gradient metrics, and enhanced hover effects.
- Improved Year 7 Map with visual learning pathways, state-based animations (bounce, wiggle), and completion celebrations.
- Created 8 reusable components in `EnhancedComponents.jsx`: KeywordCard, Callout, EnhancedTable, ProgressIndicator, AchievementBadge, XPNotification, StreakIndicator, SkeletonLoader.
- Added comprehensive documentation: `ui-ux-design-system.md`, `UI-UX-IMPROVEMENTS-SUMMARY.md`, `QUICK-START-GUIDE.md`.
- All changes maintain school brand colors, are fully responsive, WCAG AA compliant, and backward-compatible.

2025-11-05  Python-first curriculum & dashboards
---------------------------------
- Reworked B2.1 curriculum content and supporting docs to use Python exclusively; removed legacy Java guidance.
- Namespaced gamified progress storage per user to prevent cross-account data leakage.
- Enhanced student and teacher dashboards with gamification stats and learner insight panels.
- Introduced the Year 7 teacher-paced curriculum map with live lesson pointer controls.

2025-11-03  Deployment safeguards
---------------------------------
- `deploy-everything.sh` now aborts when not on `main` and fetches `origin/main` to prevent non-fast-forward pushes.
- `seed-teacher.js` auto-fills first/last names (or prompts for them) to satisfy required InstantDB attributes during seeding.

2025-11-03  Docs consolidation
--------------------------------
- Centralised operational guides under `docs/` with new index, setup, architecture, content-authoring, deployment, and AI agent playbooks.
- Added lazy dependency installs and defensive git push handling to `deploy-everything.sh`.
- Archived legacy docs (`AI_AGENT_GUIDE.md`, `initial_setup.txt`, `APP_AIM.txt`) in favour of the new hub.

Notes:
- Update this file whenever workflows, scripts, or architecture guidance changes in a way that affects maintainers or agents.

2025-11-05  Authentication normalisation & lesson UX tidy
----------------------------------------
- Added `usernameLower` fields to InstantDB schema and worker repositories so logins behave case-insensitively across admin, teacher, and student roles.
- Updated Cloudflare Worker auth flows to issue lowercased token usernames and reuse the new fields during verification, bulk student creation, and dashboard lookups.
- Refreshed the lesson detail page to surface migration status, link to active B1/B2 modules, and remove unfinished interactive placeholders.

2025-11-05  Gamified interactions & layout polish
----------------------------------------
- Introduced new activity components (`classification`, `diagram-label`, `code-completion`, `spot-error`) and overhauled ordering/gap-fill interactions for drag-and-drop play.
- Centered stage content with animated transitions, added scroll-to-top behaviour, and expanded attempt badges with per-attempt scoring details.
- Updated B1/B2 unit content to use the richer activities, including diagram labelling, word-bank fill-ins, code completion, and exception handling classification.
